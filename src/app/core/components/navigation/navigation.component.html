<div class="bg-cyber-background border-b border-cyber-border">
    <div class="nav-container">
        <div class="nav-wrapper">
            <!-- Mobile Menu Button -->
            <button 
                (click)="toggleMobileMenu()"
                class="lg:hidden text-cyber-text-primary hover:text-cyber-accent-primary p-2"
                aria-label="Toggle menu">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>

            <!-- Logo and Desktop Navigation -->
            <div class="flex items-center gap-4 lg:gap-8">
                <a routerLink="/" class="flex items-center">
                    <img src="/assets/images/logo.png" alt="Cubecard" class="h-8 sm:h-10 lg:h-12">
                </a>
                <div class="hidden lg:flex nav-links">
                    <a routerLink="/" class="nav-link">الرئيسية</a>
                    <a routerLink="/about" class="nav-link">عن كيوب كارد</a>
                </div>
            </div>

            <!-- Center Section: Search -->
            <div class="flex-1 flex items-center justify-center max-w-xl">
                <app-search-box class="w-full"></app-search-box>
            </div>

            <!-- Right Section: Download & Cart -->
            <div class="flex items-center gap-4">
                <!-- Download App Button -->
                <button (click)="openDownloadDialog()"
                        class="hidden lg:flex items-center gap-2 bg-cyber-accent-primary bg-opacity-10 px-4 py-2 rounded-lg hover:bg-opacity-20 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                    <span>حمل التطبيق</span>
                </button>

                <!-- Cart Icon -->
                <app-cart-icon></app-cart-icon>
            </div>
        </div>

        <!-- Mobile Search Bar -->
        <div class="sm:hidden px-4 py-2">
            <app-search-box></app-search-box>
        </div>

        <!-- Mobile Menu -->
        <div *ngIf="isMobileMenuOpen" 
             class="lg:hidden border-t border-cyber-border">
            <div class="px-4 py-2 space-y-2">
                <a routerLink="/" 
                   class="block py-2 text-cyber-text-primary hover:text-cyber-accent-primary">
                    الرئيسية
                </a>
                <a routerLink="/about" 
                   class="block py-2 text-cyber-text-primary hover:text-cyber-accent-primary">
                    عن كيوب كارد
                </a>
                <!-- Mobile Download App Button -->
                <button (click)="openDownloadDialog()"
                        class="flex items-center gap-2 py-2 text-cyber-text-primary hover:text-cyber-accent-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                    <span>حمل التطبيق</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Download App Dialog -->
    <app-download-app-dialog *ngIf="showDownloadDialog"
                            (closed)="closeDownloadDialog()">
    </app-download-app-dialog>
</div>